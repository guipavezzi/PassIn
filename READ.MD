# NLW UNITE - RocketSeat üöÄ

Projeto desenvolvido durante o curso do NLW focado na cria√ß√£o de uma API para cadastro de eventos e participantes, bem como a leitura desses dados no banco de dados.

## üìï Guia de Instala√ß√£o

- [Instala√ß√£o do Visual Studio Community](https://visualstudio.microsoft.com/pt-br/)
- [Instala√ß√£o do .Net](https://dotnet.microsoft.com/pt-br/download)

Caso deseje utilizar algo mais leve na hora do desenvolvimento:

- [Instala√ß√£o do Visual Studio Code](https://code.visualstudio.com/)
- [Comandos dotnet para o terminal](https://learn.microsoft.com/pt-br/dotnet/core/tools/dotnet)

## Passin.Api

### Controllers
- **`AttendeesController`**: Controller respons√°vel pelo registro de participantes no evento e pela obten√ß√£o das informa√ß√µes de todos os participantes cadastrados.
- **`CheckingController`**: Controller respons√°vel pelo registro do Checking do participante em determinado evento.
- **`EventsController`**: Controller respons√°vel pelo registro do evento e pela obten√ß√£o dos dados de um evento espec√≠fico.




### Filters
- **`ExceptionFilter`**: Filtros de Exception do projeto, retornando conforme a regra de neg√≥cio e removendo funcionalidades de try catch do controller.

## Passin.Application

### UseCases
- **Attendees**
    - `GetAllAttendeesByEventIdUseCase`: Classe respons√°vel pela obten√ß√£o dos dados de todos os usu√°rios cadastrados em um evento, conforme o ID fornecido.
- **Checkins**
    - `DoAttendeeCheckingUseCase`: Classe respons√°vel pelo Checking do usu√°rio em um evento.
- **Events**
    - `GetByIdUseCase`: Classe respons√°vel pela obten√ß√£o de um evento conforme o ID fornecido.
    - `RegisterEventUseCase`: Classe respons√°vel pelo cadastro de um evento.
    - `RegisterAttendeeUseCase`: Classe respons√°vel pelo cadastro de um participante em um evento.

## Passin.Communication

### Requests
- `RequestEventJson`: Classe que define o modelo de cadastro de eventos.
- `RequestRegisterEventJson`: Classe que define o modelo de cadastro de participantes em um evento.

### Responses
- `ResponseAllAttendeesJson`: Classe de modelo para o retorno da lista dos participantes do evento.
- `ResponseAttendeeJson`: Classe de modelo para o retorno de um participante do evento
- `ResponseErrorJson`: Classe de modelo para retornar os erros da API.
- `ResponseEventJson`: Classe de modelo para retornar dados sobre o evento.
- `ResponseRegisteredJson`: Classe de modelo que retorna o Id depois de um cadastro no banco de dados

## Passin.Exceptions
### ConflictException
- **C√≥digo de Erro:**  `Conflict`
- **Status HTTP:**  409 Conflict
- **Descri√ß√£o:**  Essa exce√ß√£o √© lan√ßada quando o participante tenta cadastrar no mesmo evento.

### ErrorOnValidationException: 
- **C√≥digo de Erro:**  `Bad Request`
- **Status HTTP:**  400 Bad Request
- **Descri√ß√£o:**  Exce√ß√£o √© lan√ßada quando se tenta cadastrar o evento com car√°cter vazio e m√°ximo de participantes igual ou menor que 0 ou quando um participante est√° sendo cadastrado com os car√°cteres vazios.

### NotFoundException
- **C√≥digo de Erro:**  `Not Found`
- **Status HTTP:**  404 Not Found
- **Descri√ß√£o:**  Essa exce√ß√£o √© lan√ßada quando algo n√£o √© encontrado no banco de dados.

### PassInException: 
- **C√≥digo de Erro:**  `PassinException`
- **Descri√ß√£o:**  Exce√ß√£o generica da API.

## Passin.Infrastructure
- `PassinDbContext`: Classe de configura√ß√£o pra fazer a intera√ß√£o entre os objetos(Attendee, Checkin e Event) e o banco de dados. Ela define como esses objetos s√£o mapeados para as tabelas correspondentes no banco de dados e facilita opera√ß√µes como cadastro e leitura de dados.

### Entities
- `Attendee`: Classe de modelo dos participantes 
- `Checkin`: Classe de modelo do checkin
- `Event`: Classe de modelo dos eventos.


# Endpoints da API: 
## Participantes üßë‚Äçü§ù‚Äçüßë
### Registro de Participante em um Evento

- **M√©todo:** `POST`
- **Rota:** `/api/attendees/{eventId}/register`
- **Par√¢metros da Rota:** `eventId` (Guid) - ID do evento no qual o participante ser√° registrado.
- **Corpo da Requisi√ß√£o:** `RequestRegisterEventJson`
- **Respostas:**
  - **201 Created:** Participante registrado com sucesso no evento.
    - **Corpo da Resposta:** `ResponseRegisteredJson`
```json
{
  "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
}
```

  - **400 Bad Request:** Erro de valida√ß√£o no corpo da requisi√ß√£o.
    - **Corpo da Resposta:** `ResponseErrorJson`
  - **404 Not Found:** Evento n√£o encontrado.
    - **Corpo da Resposta:** `ResponseErrorJson`
  - **409 Conflict:** O participante j√° est√° registrado no evento.
    - **Corpo da Resposta:** `ResponseErrorJson`
```json
{
  "message": "string"
}
```
### Obten√ß√£o de Todos os Participantes de um Evento

- **M√©todo:** `GET`
- **Rota:** `/api/attendees/{eventId}`
- **Par√¢metros da Rota:** `eventId` (Guid) - ID do evento do qual deseja-se obter os participantes.
- **Respostas:**
  - **200 OK:** Lista de todos os participantes do evento.
    - **Corpo da Resposta:** `ResponseAllAttendeesJson`
```json
{
  "attendees": [
    {
      "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
      "name": "string",
      "email": "string",
      "createdAt": "2024-04-29T21:20:21.267Z",
      "checkedInAt": "2024-04-29T21:20:21.267Z"
    }
  ]
}
```
  - **404 Not Found:** Evento n√£o encontrado.
    - **Corpo da Resposta:** `ResponseErrorJson`
```json
{
  "message": "string"
}
```

## Checkin ‚úîÔ∏è

### Registro de Check-in de Participante

- **M√©todo:** `POST`
- **Rota:** `/api/checkin/{attendeeId}`
- **Par√¢metros da Rota:** `attendeeId` (Guid) - ID do participante que est√° fazendo o check-in.
- **Respostas:**
  - **201 Created:**
    - **Corpo da Resposta:** `ResponseRegisteredJson`
```json
{
  "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
}
```
  - **404 Not Found:** 
    - **Corpo da Resposta:** `ResponseErrorJson`
  - **409 Conflict:**
    - **Corpo da Resposta:** `ResponseErrorJson`
```json
{
  "message": "string"
}
```

## Eventos üìÖ

### Registro de Evento

- **M√©todo:** `POST`
- **Rota:** `/api/events`
- **Corpo da Requisi√ß√£o:** `RequestEventJson`
- **Respostas:**
  - **201 Created:**
    - **Corpo da Resposta:** `ResponseRegisteredJson`
```json
{
  "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
}
```
  - **400 Bad Request:** Erro de valida√ß√£o no corpo da requisi√ß√£o.
    - **Corpo da Resposta:** `ResponseErrorJson`
```json
{
  "message": "string"
}
``` 


### Obten√ß√£o de Evento por ID

- **M√©todo:** `GET`
- **Rota:** `/api/events/{id}`
- **Par√¢metros da Rota:** `id` (Guid) - ID do evento desejado.
- **Respostas:**
  - **200 OK:** Dados do evento encontrados com sucesso.
    - **Corpo da Resposta:** `ResponseEventJson`
```json
{
  "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "title": "string",
  "details": "string",
  "maximumAttendees": 0,
  "attendeesAmount": 0
}
```
  - **404 Not Found:** Evento n√£o encontrado.
    - **Corpo da Resposta:** `ResponseErrorJson`
```json
{
  "message": "string"
}
```